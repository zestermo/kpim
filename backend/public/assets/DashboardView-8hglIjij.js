import{n as F,u as j,o as G,q as r,c as p,b as t,e as V,t as e,g as I,h as x,F as M,s as N,i as n,j as i,k as A,d as B,m as c}from"./index-67zp9BDn.js";const D={class:"space-y-6"},E={class:"game-panel p-6"},L={class:"flex items-center justify-between flex-wrap gap-4"},T={class:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-kpop-pink-400 to-kpop-purple-400"},U={class:"text-gray-400 mt-1"},$={class:"flex items-center gap-2 px-4 py-2 bg-kpop-purple-500/20 rounded-xl"},q={class:"text-sm text-gray-300"},O={class:"text-xs text-kpop-gold-400"},Q={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},R={class:"game-panel p-4 text-center"},W={class:"text-2xl font-bold"},Y={class:"game-panel p-4 text-center"},z={class:"text-2xl font-bold"},H={class:"game-panel p-4 text-center"},J={class:"text-2xl font-bold"},K={class:"game-panel p-4 text-center"},X={class:"text-2xl font-bold"},Z={key:0,class:"game-panel p-6"},tt={class:"space-y-3"},st={class:"font-medium"},et={class:"text-sm text-gray-400"},ot={class:"game-panel p-6"},lt={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},at={key:1,class:"game-panel p-6 border-kpop-gold-500/50"},dt={__name:"DashboardView",setup(nt){const o=F(),C=j();G(async()=>{await Promise.all([o.fetchIdols(),o.fetchGroups(),o.fetchSongs(),o.fetchPromotions()])});const g=r(()=>o.player),m=r(()=>{var l,s;return(s=(l=C.user)==null?void 0:l.playerProfile)==null?void 0:s.manager}),u=r(()=>({idols:o.idols.length,groups:o.groups.length,songs:o.songs.length,completedSongs:o.completedSongs.length})),v=r(()=>o.promotions.filter(l=>l.is_active||l.is_ready));return r(()=>{const l=[];return o.promotions.slice(0,3).forEach(s=>{s.is_completed&&l.push({icon:s.went_viral?"ğŸ”¥":"ğŸ“¢",text:`Completed ${s.type.replace("_"," ")}`,detail:s.went_viral?"Went viral!":`+${s.fan_reward} fans`})}),l}),(l,s)=>{var f,y,b,_,k,h,S;const a=A("router-link");return c(),p("div",D,[t("div",E,[t("div",L,[t("div",null,[t("h1",T,e(((f=g.value)==null?void 0:f.agency_name)||"My Agency"),1),t("p",U," Level "+e(((y=g.value)==null?void 0:y.level)||1)+" â€¢ Managed by "+e(((b=m.value)==null?void 0:b.name)||"Unknown"),1)]),t("div",$,[s[0]||(s[0]=t("span",{class:"text-lg"},"ğŸ‘”",-1)),t("div",null,[t("p",q,e((_=m.value)==null?void 0:_.name),1),t("p",O," +"+e(Math.round((((k=m.value)==null?void 0:k.bonus_value)||0)*100))+"% "+e((S=(h=m.value)==null?void 0:h.bonus_type)==null?void 0:S.replace("_"," ")),1)])])])]),t("div",Q,[t("div",R,[s[1]||(s[1]=t("div",{class:"text-3xl mb-2"},"â­",-1)),t("div",W,e(u.value.idols),1),s[2]||(s[2]=t("div",{class:"text-sm text-gray-400"},"Idols",-1))]),t("div",Y,[s[3]||(s[3]=t("div",{class:"text-3xl mb-2"},"ğŸ‘¥",-1)),t("div",z,e(u.value.groups),1),s[4]||(s[4]=t("div",{class:"text-sm text-gray-400"},"Groups",-1))]),t("div",H,[s[5]||(s[5]=t("div",{class:"text-3xl mb-2"},"ğŸµ",-1)),t("div",J,e(u.value.completedSongs),1),s[6]||(s[6]=t("div",{class:"text-sm text-gray-400"},"Songs",-1))]),t("div",K,[s[7]||(s[7]=t("div",{class:"text-3xl mb-2"},"ğŸ’–",-1)),t("div",X,e(I(o).formattedFans),1),s[8]||(s[8]=t("div",{class:"text-sm text-gray-400"},"Total Fans",-1))])]),v.value.length>0?(c(),p("div",Z,[s[9]||(s[9]=t("h2",{class:"text-lg font-bold mb-4 flex items-center gap-2"},[t("span",null,"ğŸ“¢"),x(" Active Promotions ")],-1)),t("div",tt,[(c(!0),p(M,null,N(v.value,d=>{var w,P;return c(),p("div",{key:d.id,class:"flex items-center justify-between p-3 bg-gray-800/50 rounded-xl"},[t("div",null,[t("p",st,e(d.type.replace("_"," ").toUpperCase()),1),t("p",et,e((w=d.group)==null?void 0:w.name)+" - "+e((P=d.song)==null?void 0:P.title),1)]),n(a,{to:"/promotions",class:"btn-primary text-sm py-2 px-4"},{default:i(()=>[x(e(d.is_ready?"Collect!":"View"),1)]),_:2},1024)])}),128))])])):V("",!0),t("div",ot,[s[14]||(s[14]=t("h2",{class:"text-lg font-bold mb-4"},"Quick Actions",-1)),t("div",lt,[n(a,{to:"/idols",class:"btn-secondary text-center py-4"},{default:i(()=>[...s[10]||(s[10]=[t("div",{class:"text-2xl mb-1"},"ğŸ”",-1),t("div",{class:"text-sm"},"Scout Idol",-1)])]),_:1}),n(a,{to:"/groups",class:"btn-secondary text-center py-4"},{default:i(()=>[...s[11]||(s[11]=[t("div",{class:"text-2xl mb-1"},"ğŸ‘¥",-1),t("div",{class:"text-sm"},"Form Group",-1)])]),_:1}),n(a,{to:"/music",class:"btn-secondary text-center py-4"},{default:i(()=>[...s[12]||(s[12]=[t("div",{class:"text-2xl mb-1"},"ğŸµ",-1),t("div",{class:"text-sm"},"Produce Song",-1)])]),_:1}),n(a,{to:"/promotions",class:"btn-secondary text-center py-4"},{default:i(()=>[...s[13]||(s[13]=[t("div",{class:"text-2xl mb-1"},"ğŸ“¢",-1),t("div",{class:"text-sm"},"Run Promo",-1)])]),_:1})])]),u.value.idols===0?(c(),p("div",at,[s[16]||(s[16]=B('<h2 class="text-lg font-bold mb-4 flex items-center gap-2"><span>ğŸ“š</span> Getting Started </h2><div class="space-y-4"><div class="flex items-start gap-4"><div class="w-8 h-8 rounded-full bg-kpop-pink-500/20 flex items-center justify-center font-bold">1</div><div><p class="font-medium">Scout Your First Idols</p><p class="text-sm text-gray-400">Visit the Idols page to scout talented trainees for your agency.</p></div></div><div class="flex items-start gap-4"><div class="w-8 h-8 rounded-full bg-kpop-pink-500/20 flex items-center justify-center font-bold">2</div><div><p class="font-medium">Form a Group</p><p class="text-sm text-gray-400">Once you have at least 2 idols, form your debut group!</p></div></div><div class="flex items-start gap-4"><div class="w-8 h-8 rounded-full bg-kpop-pink-500/20 flex items-center justify-center font-bold">3</div><div><p class="font-medium">Produce Music &amp; Promote</p><p class="text-sm text-gray-400">Create songs and run promotions to gain fans and make money!</p></div></div></div>',2)),n(a,{to:"/idols",class:"btn-primary mt-6 inline-block"},{default:i(()=>[...s[15]||(s[15]=[x(" Start Scouting â­ ",-1)])]),_:1})])):V("",!0)])}}};export{dt as default};
